{"ast":null,"code":"import _slicedToArray from\"/Users/abel-chen/Desktop/grocery-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/abel-chen/Desktop/grocery-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _taggedTemplateLiteral from\"/Users/abel-chen/Desktop/grocery-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _asyncToGenerator from\"/Users/abel-chen/Desktop/grocery-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  label.focused {\\n    color: #ffffff;\\n  }\\n  .MuiOutlinedInput-root {\\n    fieldset {\\n      border-color: #83A3BC;\\n    }\\n    &:hover fieldset {\\n      border-color: #294662;\\n    }\\n    &.Mui-focused fieldset {\\n      border-color: #294662;\\n    }\\n  }\\n  textInputStyle: {\\n    color: 'white',\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import'./Signin.css';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import Typography from'@material-ui/core/Typography';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import Grid from'@material-ui/core/Grid';import Button from'@material-ui/core/Button';import styled from'styled-components';import Snackbar from'@material-ui/core/Snackbar';import IconButton from'@material-ui/core/IconButton';import CloseIcon from'@material-ui/icons/Close';import HelpOutlineIcon from'@material-ui/icons/HelpOutline';import Fab from'@material-ui/core/Fab';import Tooltip from'@material-ui/core/Tooltip';import{BrowserRouter as Switch,Redirect,useHistory,History,Link}from\"react-router-dom\";import axios from\"axios\";var roomExists;var userValue;var num;function createUserRoom(){return _createUserRoom.apply(this,arguments);}function _createUserRoom(){_createUserRoom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var array,newRoom,newUser;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:num=document.getElementById('roomCodeVal').value;userValue=document.getElementById('userNameVal').value;array=[document.getElementById('userNameVal').value];_context4.next=5;return axios.post('https://grocerynode.herokuapp.com/rooms/addRoom',{roomCode:document.getElementById('roomCodeVal').value,members:array,numMembers:1}).then(function(response){console.log(response);roomExists=false;}).catch(function(error){console.log(error);roomExists=true;});case 5:newRoom=_context4.sent;if(!(roomExists===true)){_context4.next=8;break;}return _context4.abrupt(\"return\");case 8:_context4.next=10;return axios.post('https://grocerynode.herokuapp.com/users/makeUser',{username:document.getElementById('userNameVal').value,roomCode:document.getElementById('roomCodeVal').value}).then(function(response){console.log(response);}).catch(function(error){console.log(error);});case 10:newUser=_context4.sent;case 11:case\"end\":return _context4.stop();}}},_callee4);}));return _createUserRoom.apply(this,arguments);}function updateUserRoom(){return _updateUserRoom.apply(this,arguments);}function _updateUserRoom(){_updateUserRoom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var newUser,updatedRoom;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:num=document.getElementById('roomCodeVal').value;userValue=document.getElementById('userNameVal').value;_context5.next=4;return axios.post('https://grocerynode.herokuapp.com/users/makeUser',{username:document.getElementById('userNameVal').value,roomCode:document.getElementById('roomCodeVal').value}).then(function(response){console.log(response);roomExists=true;}).catch(function(error){console.log(error);roomExists=false;});case 4:newUser=_context5.sent;if(!(roomExists===false)){_context5.next=7;break;}return _context5.abrupt(\"return\");case 7:_context5.next=9;return axios.post('https://grocerynode.herokuapp.com/rooms/updateRoom',{username:document.getElementById('userNameVal').value,roomCode:document.getElementById('roomCodeVal').value}).then(function(response){console.log(response);roomExists=true;}).catch(function(error){console.log(error);roomExists=false;});case 9:updatedRoom=_context5.sent;case 10:case\"end\":return _context5.stop();}}},_callee5);}));return _updateUserRoom.apply(this,arguments);}function returnUserRoom(){return _returnUserRoom.apply(this,arguments);}function _returnUserRoom(){_returnUserRoom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var newUser;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:num=document.getElementById('roomCodeVal').value;userValue=document.getElementById('userNameVal').value;_context6.next=4;return axios.post('https://grocerynode.herokuapp.com/users/returnUser',{username:document.getElementById('userNameVal').value,roomCode:document.getElementById('roomCodeVal').value}).then(function(response){console.log(response);roomExists=true;}).catch(function(error){console.log(error);roomExists=false;});case 4:newUser=_context6.sent;case 5:case\"end\":return _context6.stop();}}},_callee6);}));return _returnUserRoom.apply(this,arguments);}var StyledTextField=styled(TextField)(_templateObject());var useStyles=makeStyles(function(theme){return{root:{//background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\nborder:0,borderRadius:5,boxShadow:'0 3px 5px 2px rgba(0, 0, 0, .3)',color:'white',height:500,width:400,margin:'auto',marginTop:'5%',padding:'0 30px',display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"},centeredcard:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"},title:{fontSize:40,fontFamily:'Raleway',color:'#444444'},titlecontent:{marginBottom:-20},textbox:{padding:10,marginTop:'1%',marginBottom:'1%'},centered:{width:'100%',display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"},absolute:{position:'absolute',bottom:theme.spacing(2),right:theme.spacing(3)}};});function Signin(){var history=useHistory();var classes=useStyles();//routing to new room\nvar routeChangeCreate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,path;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return createUserRoom();case 2:data=_context.sent;if(roomExists===true){handleClick();}else{path=\"/RoomLobby\"+\"/\"+num;history.push(path,{number:num,user:userValue});}case 4:case\"end\":return _context.stop();}}},_callee);}));return function routeChangeCreate(){return _ref.apply(this,arguments);};}();//routing to existing room\nvar routeChangeJoin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data,path;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateUserRoom();case 2:data=_context2.sent;if(roomExists===false){handleClick1();}else{path=\"/RoomLobby\"+\"/\"+num;history.push(path,{number:num,user:userValue});}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function routeChangeJoin(){return _ref2.apply(this,arguments);};}();//routing to existing room that user is already in\nvar routeChangeReturn=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var data,path;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return returnUserRoom();case 2:data=_context3.sent;if(roomExists===false){handleClick2();}else{path=\"/RoomLobby\"+\"/\"+num;history.push(path,{number:num,user:userValue});}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function routeChangeReturn(){return _ref3.apply(this,arguments);};}();//error message if room exists\nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleClick=function handleClick(){setOpen(true);};var handleClose=function handleClose(event,reason){if(reason==='clickaway'){return;}setOpen(false);};//error message if room doesn't exist\nvar _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open1=_React$useState4[0],setOpen1=_React$useState4[1];var handleClick1=function handleClick1(){setOpen1(true);};var handleClose1=function handleClose1(event,reason){if(reason==='clickaway'){return;}setOpen1(false);};//error message if room doesn't exist\nvar _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),open2=_React$useState6[0],setOpen2=_React$useState6[1];var handleClick2=function handleClick2(){setOpen2(true);};var handleClose2=function handleClose2(event,reason){if(reason==='clickaway'){return;}setOpen2(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card,{className:classes.root,variant:\"outlined\"},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Grid,{container:true,alignContent:\"center\",spacing:3},/*#__PURE__*/React.createElement(\"div\",{className:classes.centered},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,className:classes.titlecontent,align:\"center\",style:{marginBottom:10,marginTop:10}},/*#__PURE__*/React.createElement(Typography,{variant:\"h4\",className:classes.title},\"Group Groceries\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,className:classes.textbox,align:\"center\"},/*#__PURE__*/React.createElement(StyledTextField,{id:\"userNameVal\",label:\"Name\",variant:\"outlined\"})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,className:classes.textbox,align:\"center\"},/*#__PURE__*/React.createElement(StyledTextField,{id:\"roomCodeVal\",label:\"Room Code\",variant:\"outlined\"})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,align:\"center\"},/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",bordercolor:\"white\",onClick:routeChangeCreate,style:{marginBottom:10,marginTop:10}},\"Create Room\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,align:\"center\"},/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",bordercolor:\"white\",onClick:routeChangeJoin,style:{marginBottom:10,marginTop:10}},\"Join Room\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,align:\"center\"},/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",bordercolor:\"white\",onClick:routeChangeReturn,style:{marginBottom:10,marginTop:10}},\"Re-enter Room\")))))),/*#__PURE__*/React.createElement(Tooltip,{title:\"Made by Abel, Ellie, John,and Nelson\",style:{marginRight:'2%',marginBottom:'1%'}},/*#__PURE__*/React.createElement(Fab,{className:classes.absolute},/*#__PURE__*/React.createElement(HelpOutlineIcon,{color:\"primary\"}))),/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:'bottom',horizontal:'left'},open:open,autoHideDuration:6000,onClose:handleClose,message:\"The room already exists\",action:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IconButton,{size:\"small\",\"aria-label\":\"close\",color:\"inherit\",onClick:handleClose},/*#__PURE__*/React.createElement(CloseIcon,{fontSize:\"small\"})))}),/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:'bottom',horizontal:'left'},open:open1,autoHideDuration:6000,onClose:handleClose1,message:\"This user already exists or the room doesn't exist\",action:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IconButton,{size:\"small\",\"aria-label\":\"close\",color:\"inherit\",onClick:handleClose1},/*#__PURE__*/React.createElement(CloseIcon,{fontSize:\"small\"})))}),/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:'bottom',horizontal:'left'},open:open2,autoHideDuration:6000,onClose:handleClose2,message:\"User not found\",action:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IconButton,{size:\"small\",\"aria-label\":\"close\",color:\"inherit\",onClick:handleClose2},/*#__PURE__*/React.createElement(CloseIcon,{fontSize:\"small\"})))}));}export default Signin;","map":{"version":3,"sources":["/Users/abel-chen/Desktop/grocery-app/frontend/src/Pages/Signin.js"],"names":["React","makeStyles","TextField","Typography","Card","CardContent","Grid","Button","styled","Snackbar","IconButton","CloseIcon","HelpOutlineIcon","Fab","Tooltip","BrowserRouter","Switch","Redirect","useHistory","History","Link","axios","roomExists","userValue","num","createUserRoom","document","getElementById","value","array","post","roomCode","members","numMembers","then","response","console","log","catch","error","newRoom","username","newUser","updateUserRoom","updatedRoom","returnUserRoom","StyledTextField","useStyles","theme","root","border","borderRadius","boxShadow","color","height","width","margin","marginTop","padding","display","flexDirection","justifyContent","centeredcard","title","fontSize","fontFamily","titlecontent","marginBottom","textbox","centered","absolute","position","bottom","spacing","right","Signin","history","classes","routeChangeCreate","data","handleClick","path","push","number","user","routeChangeJoin","handleClick1","routeChangeReturn","handleClick2","useState","open","setOpen","handleClose","event","reason","open1","setOpen1","handleClose1","open2","setOpen2","handleClose2","marginRight","vertical","horizontal"],"mappings":"wlCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CAEA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,QAAlC,CAA4CC,UAA5C,CAAwDC,OAAxD,CAAiEC,IAAjE,KAA6E,kBAA7E,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAIC,CAAAA,UAAJ,CACA,GAAIC,CAAAA,SAAJ,CACA,GAAIC,CAAAA,GAAJ,C,QAEeC,CAAAA,c,oJAAf,kKACED,GAAG,CAAGE,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAA7C,CACAL,SAAS,CAAGG,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAnD,CAEIC,KAJN,CAIc,CAAEH,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAzC,CAJd,wBAKwBP,CAAAA,KAAK,CAACS,IAAN,CAAW,iDAAX,CAA8D,CAClFC,QAAQ,CAAEL,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KADiC,CAElFI,OAAO,CAAEH,KAFyE,CAGlFI,UAAU,CAAE,CAHsE,CAA9D,EAKrBC,IALqB,CAKhB,SAAUC,QAAV,CAAoB,CACxBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAb,UAAU,CAAG,KAAb,CACD,CARqB,EASrBgB,KATqB,CASf,SAAUC,KAAV,CAAiB,CACtBH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACAjB,UAAU,CAAG,IAAb,CACD,CAZqB,CALxB,QAKQkB,OALR,qBAoBMlB,UAAU,GAAK,IApBrB,4FAwBwBD,CAAAA,KAAK,CAACS,IAAN,CAAW,kDAAX,CAA+D,CACnFW,QAAQ,CAAEf,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KADkC,CAEnFG,QAAQ,CAAEL,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAFkC,CAA/D,EAIrBM,IAJqB,CAIhB,SAAUC,QAAV,CAAoB,CACxBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACD,CANqB,EAOrBG,KAPqB,CAOf,SAAUC,KAAV,CAAiB,CACtBH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACD,CATqB,CAxBxB,SAwBQG,OAxBR,yE,yDAqCeC,CAAAA,c,oJAAf,gKACEnB,GAAG,CAAGE,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAA7C,CACAL,SAAS,CAAGG,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAnD,CAFF,uBAIwBP,CAAAA,KAAK,CAACS,IAAN,CAAW,kDAAX,CAA+D,CACnFW,QAAQ,CAAEf,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KADkC,CAEnFG,QAAQ,CAAEL,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAFkC,CAA/D,EAIrBM,IAJqB,CAIhB,SAAUC,QAAV,CAAoB,CACxBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAb,UAAU,CAAG,IAAb,CACD,CAPqB,EAQrBgB,KARqB,CAQf,SAAUC,KAAV,CAAiB,CACtBH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACAjB,UAAU,CAAG,KAAb,CACD,CAXqB,CAJxB,QAIQoB,OAJR,qBAiBMpB,UAAU,GAAK,KAjBrB,2FAqB4BD,CAAAA,KAAK,CAACS,IAAN,CAAW,oDAAX,CAAiE,CACzFW,QAAQ,CAAEf,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KADwC,CAEzFG,QAAQ,CAAEL,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAFwC,CAAjE,EAIzBM,IAJyB,CAIpB,SAAUC,QAAV,CAAoB,CACxBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAb,UAAU,CAAG,IAAb,CACD,CAPyB,EAQzBgB,KARyB,CAQnB,SAAUC,KAAV,CAAiB,CACtBH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACAjB,UAAU,CAAG,KAAb,CACD,CAXyB,CArB5B,QAqBQsB,WArBR,yE,yDAoCeC,CAAAA,c,oJAAf,oJACErB,GAAG,CAAGE,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAA7C,CACAL,SAAS,CAAGG,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAnD,CAFF,uBAIwBP,CAAAA,KAAK,CAACS,IAAN,CAAW,oDAAX,CAAiE,CACrFW,QAAQ,CAAEf,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KADoC,CAErFG,QAAQ,CAAEL,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAFoC,CAAjE,EAIrBM,IAJqB,CAIhB,SAAUC,QAAV,CAAoB,CACxBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAb,UAAU,CAAG,IAAb,CACD,CAPqB,EAQrBgB,KARqB,CAQf,SAAUC,KAAV,CAAiB,CACtBH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACAjB,UAAU,CAAG,KAAb,CACD,CAXqB,CAJxB,QAIQoB,OAJR,wE,iDAkBA,GAAMI,CAAAA,eAAe,CAAGtC,MAAM,CAACN,SAAD,CAAT,mBAArB,CAoBA,GAAM6C,CAAAA,SAAS,CAAG9C,UAAU,CAAC,SAAC+C,KAAD,QAAY,CACvCC,IAAI,CAAE,CACJ;AACAC,MAAM,CAAE,CAFJ,CAGJC,YAAY,CAAE,CAHV,CAIJC,SAAS,CAAE,iCAJP,CAKJC,KAAK,CAAE,OALH,CAMJC,MAAM,CAAE,GANJ,CAOJC,KAAK,CAAE,GAPH,CAQJC,MAAM,CAAE,MARJ,CASJC,SAAS,CAAE,IATP,CAUJC,OAAO,CAAE,QAVL,CAWJC,OAAO,CAAE,MAXL,CAYJC,aAAa,CAAE,QAZX,CAaJC,cAAc,CAAE,QAbZ,CADiC,CAgBvCC,YAAY,CAAE,CACZH,OAAO,CAAE,MADG,CAEZC,aAAa,CAAE,QAFH,CAGZC,cAAc,CAAE,QAHJ,CAhByB,CAqBvCE,KAAK,CAAE,CACLC,QAAQ,CAAE,EADL,CAELC,UAAU,CAAE,SAFP,CAGLZ,KAAK,CAAE,SAHF,CArBgC,CA0BvCa,YAAY,CAAE,CACZC,YAAY,CAAE,CAAC,EADH,CA1ByB,CA6BvCC,OAAO,CAAE,CACPV,OAAO,CAAE,EADF,CAEPD,SAAS,CAAE,IAFJ,CAGPU,YAAY,CAAE,IAHP,CA7B8B,CAkCvCE,QAAQ,CAAE,CACRd,KAAK,CAAE,MADC,CAERI,OAAO,CAAE,MAFD,CAGRC,aAAa,CAAE,QAHP,CAIRC,cAAc,CAAE,QAJR,CAlC6B,CAwCvCS,QAAQ,CAAE,CACRC,QAAQ,CAAE,UADF,CAERC,MAAM,CAAExB,KAAK,CAACyB,OAAN,CAAc,CAAd,CAFA,CAGRC,KAAK,CAAE1B,KAAK,CAACyB,OAAN,CAAc,CAAd,CAHC,CAxC6B,CAAZ,EAAD,CAA5B,CA+CA,QAASE,CAAAA,MAAT,EAAkB,CAChB,GAAMC,CAAAA,OAAO,CAAG1D,UAAU,EAA1B,CACA,GAAM2D,CAAAA,OAAO,CAAG9B,SAAS,EAAzB,CAEA;AACA,GAAM+B,CAAAA,iBAAiB,0FAAG,uKACNrD,CAAAA,cAAc,EADR,QACnBsD,IADmB,eAExB,GAAIzD,UAAU,GAAK,IAAnB,CAAyB,CACvB0D,WAAW,GACZ,CAFD,IAEO,CACDC,IADC,CACM,aAAe,GAAf,CAAoBzD,GAD1B,CAELoD,OAAO,CAACM,IAAR,CAAaD,IAAb,CAAmB,CAACE,MAAM,CAAE3D,GAAT,CAAc4D,IAAI,CAAE7D,SAApB,CAAnB,EACD,CAPuB,sDAAH,kBAAjBuD,CAAAA,iBAAiB,0CAAvB,CAUA;AACA,GAAMO,CAAAA,eAAe,2FAAG,6KACH1C,CAAAA,cAAc,EADX,QAChBoC,IADgB,gBAEtB,GAAIzD,UAAU,GAAK,KAAnB,CAA0B,CACxBgE,YAAY,GACb,CAFD,IAEO,CACDL,IADC,CACM,aAAe,GAAf,CAAoBzD,GAD1B,CAELoD,OAAO,CAACM,IAAR,CAAaD,IAAb,CAAmB,CAACE,MAAM,CAAE3D,GAAT,CAAc4D,IAAI,CAAE7D,SAApB,CAAnB,EACD,CAPqB,wDAAH,kBAAf8D,CAAAA,eAAe,2CAArB,CAUC;AACD,GAAME,CAAAA,iBAAiB,2FAAG,6KACL1C,CAAAA,cAAc,EADT,QAClBkC,IADkB,gBAExB,GAAIzD,UAAU,GAAK,KAAnB,CAA0B,CACxBkE,YAAY,GACb,CAFD,IAEO,CACDP,IADC,CACM,aAAe,GAAf,CAAoBzD,GAD1B,CAELoD,OAAO,CAACM,IAAR,CAAaD,IAAb,CAAmB,CAACE,MAAM,CAAE3D,GAAT,CAAc4D,IAAI,CAAE7D,SAApB,CAAnB,EACD,CAPuB,wDAAH,kBAAjBgE,CAAAA,iBAAiB,2CAAvB,CAUA;AArCgB,oBAsCQvF,KAAK,CAACyF,QAAN,CAAe,KAAf,CAtCR,oDAsCTC,IAtCS,qBAsCHC,OAtCG,qBAwChB,GAAMX,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBW,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACrC,GAAIA,MAAM,GAAK,WAAf,CAA4B,CAC1B,OACD,CAEDH,OAAO,CAAC,KAAD,CAAP,CACD,CAND,CAQA;AApDgB,qBAqDU3F,KAAK,CAACyF,QAAN,CAAe,KAAf,CArDV,qDAqDTM,KArDS,qBAqDFC,QArDE,qBAuDhB,GAAMV,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBU,QAAQ,CAAC,IAAD,CAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,KAAD,CAAQC,MAAR,CAAmB,CACtC,GAAIA,MAAM,GAAK,WAAf,CAA4B,CAC1B,OACD,CAEDE,QAAQ,CAAC,KAAD,CAAR,CACD,CAND,CAQA;AAnEgB,qBAoEUhG,KAAK,CAACyF,QAAN,CAAe,KAAf,CApEV,qDAoETS,KApES,qBAoEFC,QApEE,qBAsEhB,GAAMX,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBW,QAAQ,CAAC,IAAD,CAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACP,KAAD,CAAQC,MAAR,CAAmB,CACtC,GAAIA,MAAM,GAAK,WAAf,CAA4B,CAC1B,OACD,CAEDK,QAAQ,CAAC,KAAD,CAAR,CACD,CAND,CAQA,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACA,oBAAC,IAAD,EAAM,SAAS,CAAEtB,OAAO,CAAC5B,IAAzB,CAA+B,OAAO,CAAC,UAAvC,eACE,oBAAC,WAAD,mBACE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,YAAY,CAAC,QAA7B,CAAsC,OAAO,CAAE,CAA/C,eACA,2BAAK,SAAS,CAAE4B,OAAO,CAACR,QAAxB,eACE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,SAAS,CAAEQ,OAAO,CAACX,YAAtC,CAAoD,KAAK,CAAC,QAA1D,CAAmE,KAAK,CAAE,CAACC,YAAY,CAAE,EAAf,CAAmBV,SAAS,CAAE,EAA9B,CAA1E,eACE,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAEoB,OAAO,CAACd,KAA5C,oBADF,CADF,cAIE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,SAAS,CAAEc,OAAO,CAACT,OAAtC,CAA+C,KAAK,CAAC,QAArD,eACE,oBAAC,eAAD,EAAiB,EAAE,CAAC,aAApB,CAAkC,KAAK,CAAC,MAAxC,CAA+C,OAAO,CAAC,UAAvD,EADF,CAJF,cAOE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,SAAS,CAAES,OAAO,CAACT,OAAtC,CAA+C,KAAK,CAAC,QAArD,eACE,oBAAC,eAAD,EAAiB,EAAE,CAAC,aAApB,CAAkC,KAAK,CAAC,WAAxC,CAAoD,OAAO,CAAC,UAA5D,EADF,CAPF,cAUE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,KAAK,CAAC,QAAzB,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,CAA2B,WAAW,CAAC,OAAvC,CAA+C,OAAO,CAAEU,iBAAxD,CAA2E,KAAK,CAAE,CAACX,YAAY,CAAE,EAAf,CAAmBV,SAAS,CAAE,EAA9B,CAAlF,gBADF,CAVF,cAaE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,KAAK,CAAC,QAAzB,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,CAA2B,WAAW,CAAC,OAAvC,CAA+C,OAAO,CAAE4B,eAAxD,CAAyE,KAAK,CAAE,CAAClB,YAAY,CAAE,EAAf,CAAmBV,SAAS,CAAE,EAA9B,CAAhF,cADF,CAbF,cAgBE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,KAAK,CAAC,QAAzB,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,CAA2B,WAAW,CAAC,OAAvC,CAA+C,OAAO,CAAE8B,iBAAxD,CAA2E,KAAK,CAAE,CAACpB,YAAY,CAAE,EAAf,CAAmBV,SAAS,CAAE,EAA9B,CAAlF,kBADF,CAhBF,CADA,CADF,CADF,CADA,cA4BA,oBAAC,OAAD,EAAS,KAAK,CAAC,sCAAf,CAAsD,KAAK,CAAE,CAAC4C,WAAW,CAAE,IAAd,CAAoBlC,YAAY,CAAE,IAAlC,CAA7D,eACI,oBAAC,GAAD,EAAK,SAAS,CAAEU,OAAO,CAACP,QAAxB,eACE,oBAAC,eAAD,EAAiB,KAAK,CAAC,SAAvB,EADF,CADJ,CA5BA,cAkCA,oBAAC,QAAD,EACE,YAAY,CAAE,CACZgC,QAAQ,CAAE,QADE,CAEZC,UAAU,CAAE,MAFA,CADhB,CAKE,IAAI,CAAEb,IALR,CAME,gBAAgB,CAAE,IANpB,CAOE,OAAO,CAAEE,WAPX,CAQE,OAAO,CAAC,yBARV,CASE,MAAM,cACJ,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,UAAD,EAAY,IAAI,CAAC,OAAjB,CAAyB,aAAW,OAApC,CAA4C,KAAK,CAAC,SAAlD,CAA4D,OAAO,CAAEA,WAArE,eACE,oBAAC,SAAD,EAAW,QAAQ,CAAC,OAApB,EADF,CADF,CAVJ,EAlCA,cAoDA,oBAAC,QAAD,EACE,YAAY,CAAE,CACZU,QAAQ,CAAE,QADE,CAEZC,UAAU,CAAE,MAFA,CADhB,CAKE,IAAI,CAAER,KALR,CAME,gBAAgB,CAAE,IANpB,CAOE,OAAO,CAAEE,YAPX,CAQE,OAAO,CAAC,oDARV,CASE,MAAM,cACJ,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,UAAD,EAAY,IAAI,CAAC,OAAjB,CAAyB,aAAW,OAApC,CAA4C,KAAK,CAAC,SAAlD,CAA4D,OAAO,CAAEA,YAArE,eACE,oBAAC,SAAD,EAAW,QAAQ,CAAC,OAApB,EADF,CADF,CAVJ,EApDA,cAsEA,oBAAC,QAAD,EACE,YAAY,CAAE,CACZK,QAAQ,CAAE,QADE,CAEZC,UAAU,CAAE,MAFA,CADhB,CAKE,IAAI,CAAEL,KALR,CAME,gBAAgB,CAAE,IANpB,CAOE,OAAO,CAAEE,YAPX,CAQE,OAAO,CAAC,gBARV,CASE,MAAM,cACJ,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,UAAD,EAAY,IAAI,CAAC,OAAjB,CAAyB,aAAW,OAApC,CAA4C,KAAK,CAAC,SAAlD,CAA4D,OAAO,CAAEA,YAArE,eACE,oBAAC,SAAD,EAAW,QAAQ,CAAC,OAApB,EADF,CADF,CAVJ,EAtEA,CADF,CA2FD,CACD,cAAezB,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport './Signin.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport styled from 'styled-components';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport Fab from '@material-ui/core/Fab';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { BrowserRouter as Switch, Redirect, useHistory, History, Link } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nvar roomExists;\nvar userValue;\nvar num;\n\nasync function createUserRoom() {\n  num = document.getElementById('roomCodeVal').value;\n  userValue = document.getElementById('userNameVal').value;\n\n  var array = [ document.getElementById('userNameVal').value]\n  const newRoom = await axios.post('https://grocerynode.herokuapp.com/rooms/addRoom', {\n    roomCode: document.getElementById('roomCodeVal').value,\n    members: array,\n    numMembers: 1,\n  })\n  .then(function (response) {\n    console.log(response);\n    roomExists = false;\n  })\n  .catch(function (error) {\n    console.log(error);\n    roomExists = true;\n  });\n\n  //no need to make an invalid user\n  if (roomExists === true) {\n    return;\n  }\n\n  const newUser = await axios.post('https://grocerynode.herokuapp.com/users/makeUser', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n\n}\n\nasync function updateUserRoom() {\n  num = document.getElementById('roomCodeVal').value;\n  userValue = document.getElementById('userNameVal').value;\n\n  const newUser = await axios.post('https://grocerynode.herokuapp.com/users/makeUser', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value\n  })\n  .then(function (response) {\n    console.log(response);\n    roomExists = true;\n  })\n  .catch(function (error) {\n    console.log(error);\n    roomExists = false;\n  });\n\n  if (roomExists === false) {\n    return;\n  }\n\n  const updatedRoom = await axios.post('https://grocerynode.herokuapp.com/rooms/updateRoom', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value,\n  })\n  .then(function (response) {\n    console.log(response);\n    roomExists = true;\n  })\n  .catch(function (error) {\n    console.log(error);\n    roomExists = false;\n  });\n\n}\n\nasync function returnUserRoom() {\n  num = document.getElementById('roomCodeVal').value;\n  userValue = document.getElementById('userNameVal').value;\n\n  const newUser = await axios.post('https://grocerynode.herokuapp.com/users/returnUser', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value\n  })\n  .then(function (response) {\n    console.log(response);\n    roomExists = true;\n  })\n  .catch(function (error) {\n    console.log(error);\n    roomExists = false;\n  });\n}\n\nconst StyledTextField = styled(TextField)`\n  label.focused {\n    color: #ffffff;\n  }\n  .MuiOutlinedInput-root {\n    fieldset {\n      border-color: #83A3BC;\n    }\n    &:hover fieldset {\n      border-color: #294662;\n    }\n    &.Mui-focused fieldset {\n      border-color: #294662;\n    }\n  }\n  textInputStyle: {\n    color: 'white',\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    //background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n    border: 0,\n    borderRadius: 5,\n    boxShadow: '0 3px 5px 2px rgba(0, 0, 0, .3)',\n    color: 'white',\n    height: 500,\n    width: 400,\n    margin: 'auto',\n    marginTop: '5%',\n    padding: '0 30px',\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  centeredcard: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  title: {\n    fontSize: 40,\n    fontFamily: 'Raleway',\n    color: '#444444'\n  },\n  titlecontent: {\n    marginBottom: -20\n  },\n  textbox: {\n    padding: 10,\n    marginTop: '1%',\n    marginBottom: '1%'\n  },\n  centered: {\n    width: '100%',\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  absolute: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(3),\n  },\n}));\n\nfunction Signin() {\n  const history = useHistory();\n  const classes = useStyles();\n\n  //routing to new room\n  const routeChangeCreate = async () =>{ \n   const data = await createUserRoom();\n    if (roomExists === true) {\n      handleClick();\n    } else {\n      let path = \"/RoomLobby\" + \"/\"+ num; \n      history.push(path, {number: num, user: userValue});\n    }\n  }\n\n  //routing to existing room\n  const routeChangeJoin = async () =>{ \n    const data = await updateUserRoom();\n    if (roomExists === false) {\n      handleClick1();\n    } else {\n      let path = \"/RoomLobby\" + \"/\"+ num; \n      history.push(path, {number: num, user: userValue});\n    }\n  }\n\n   //routing to existing room that user is already in\n  const routeChangeReturn = async () =>{ \n    const data = await returnUserRoom();\n    if (roomExists === false) {\n      handleClick2();\n    } else {\n      let path = \"/RoomLobby\" + \"/\"+ num; \n      history.push(path, {number: num, user: userValue});\n    }\n  }\n  \n  //error message if room exists\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  //error message if room doesn't exist\n  const [open1, setOpen1] = React.useState(false);\n\n  const handleClick1 = () => {\n    setOpen1(true);\n  };\n\n  const handleClose1 = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen1(false);\n  };\n\n  //error message if room doesn't exist\n  const [open2, setOpen2] = React.useState(false);\n\n  const handleClick2 = () => {\n    setOpen2(true);\n  };\n\n  const handleClose2 = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen2(false);\n  };\n\n  return (\n    <React.Fragment>\n    <Card className={classes.root} variant=\"outlined\">\n      <CardContent>\n        <Grid container alignContent=\"center\" spacing={3}>\n        <div className={classes.centered}>\n          <Grid item xs={12} className={classes.titlecontent} align=\"center\" style={{marginBottom: 10, marginTop: 10}}>\n            <Typography variant=\"h4\" className={classes.title} >Group Groceries</Typography>\n          </Grid>\n          <Grid item xs={12} className={classes.textbox} align=\"center\">\n            <StyledTextField id=\"userNameVal\" label=\"Name\" variant=\"outlined\" />\n          </Grid>\n          <Grid item xs={12} className={classes.textbox} align=\"center\">\n            <StyledTextField id=\"roomCodeVal\" label=\"Room Code\" variant=\"outlined\" />\n          </Grid>\n          <Grid item xs={12} align=\"center\" >\n            <Button variant=\"outlined\" bordercolor=\"white\" onClick={routeChangeCreate} style={{marginBottom: 10, marginTop: 10}}>Create Room</Button>\n          </Grid>\n          <Grid item xs={12} align=\"center\">\n            <Button variant=\"outlined\" bordercolor=\"white\" onClick={routeChangeJoin} style={{marginBottom: 10, marginTop: 10}}>Join Room</Button>\n          </Grid>\n          <Grid item xs={12} align=\"center\" >\n            <Button variant=\"outlined\" bordercolor=\"white\" onClick={routeChangeReturn} style={{marginBottom: 10, marginTop: 10}}>Re-enter Room</Button>\n          </Grid>\n        </div>\n        </Grid>\n      </CardContent>\n    </Card>\n\n    <Tooltip title=\"Made by Abel, Ellie, John,and Nelson\" style={{marginRight: '2%', marginBottom: '1%'}}>\n        <Fab className={classes.absolute}>\n          <HelpOutlineIcon color=\"primary\" />\n        </Fab>\n    </Tooltip>\n\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      open={open}\n      autoHideDuration={6000}\n      onClose={handleClose}\n      message=\"The room already exists\"\n      action={\n        <React.Fragment>\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n      }\n    />\n\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      open={open1}\n      autoHideDuration={6000}\n      onClose={handleClose1}\n      message=\"This user already exists or the room doesn't exist\"\n      action={\n        <React.Fragment>\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose1}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n      }\n    />\n\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      open={open2}\n      autoHideDuration={6000}\n      onClose={handleClose2}\n      message=\"User not found\"\n      action={\n        <React.Fragment>\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose2}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n      }\n    />\n\n    </React.Fragment>\n  )\n}\nexport default Signin;"]},"metadata":{},"sourceType":"module"}