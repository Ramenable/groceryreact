{"ast":null,"code":"var _jsxFileName = \"/Users/abel-chen/Desktop/grocery-app/frontend/src/Pages/RoomLobby.js\";\nimport React, { useState, useEffect } from 'react'; //import './RoomLobby.css';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { BrowserRouter as Switch, Redirect, useHistory, useLocation, History, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nvar currentRoom;\nvar memberList;\nvar groceryList;\nvar user;\n\nasync function addGrocery() {\n  const newGrocery = await axios.post('https://grocerynode.herokuapp.com/groceries/addGrocery', {\n    name: document.getElementById('name').value,\n    roomCode: currentRoom,\n    message: document.getElementById('message').value,\n    requester: user\n  }).then(function (response) {\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nasync function deleteGrocery(idvalue) {\n  var idV = idvalue;\n  const oldGrocery = await axios.post('https://grocerynode.herokuapp.com/groceries/deleteGrocery', {\n    id: idV\n  }).then(function (response) {\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    minWidth: 300,\n    maxWidth: 800,\n    borderRadius: 5,\n    boxShadow: '0px 5px 5px 2px rgba(0, 0, 0, .3)',\n    backgroundColor: theme.palette.background.paper,\n    flexGrow: 1\n  },\n  fullScreen: {\n    flexGrow: 1\n  },\n  fill: {\n    width: '100%',\n    flexGrow: 1\n  },\n  textMem: {\n    color: '#222222',\n    fontFamily: 'Raleway',\n    fontSize: 20\n  },\n  text: {\n    color: '#222222',\n    fontFamily: 'Raleway',\n    fontWeight: 'bold',\n    fontSize: 30\n  },\n  textReq: {\n    color: '#222222',\n    fontFamily: 'Raleway',\n    fontStyle: 'italic',\n    fontSize: 20\n  },\n  title: {\n    color: '#444444',\n    fontFamily: 'Raleway',\n    fontSize: 43\n  },\n  centered: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  }\n}));\n\nfunction RoomLobby() {\n  const history = useHistory();\n  const classes = useStyles();\n  const location = useLocation(); // room and user data\n\n  user = location.state.user;\n  currentRoom = location.state.number; // member list data \n\n  const [items, setItems] = useState([]); // grocery list data \n\n  const [gItems, setGItems] = useState([]); //re-render on add grocery\n\n  const [alert, setAlert] = useState(false);\n  useEffect(() => {\n    axios.get('http://localhost:5000/rooms/getRoom' + '?room=' + encodeURIComponent(location.state.number), false).then(response => {\n      console.log(response.data);\n      memberList = response.data[0].members;\n      setItems(memberList);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [location.state.number]);\n  useEffect(() => {\n    if (gItems.length && !alert) {\n      return;\n    }\n\n    axios.get('http://localhost:5000/groceries/getGroceries' + '?room=' + encodeURIComponent(location.state.number), false).then(response => {\n      groceryList = [];\n\n      for (var i in response.data) {\n        groceryList.push(response.data[i]);\n      }\n\n      setGItems(groceryList);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [alert, gItems, location.state.number]); // Add grocery\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCloseAdd = () => {\n    setOpen(false);\n    addGrocery();\n    setAlert(true);\n  }; //back\n\n\n  const routeChange = () => {\n    let path = \"/\";\n    history.push(path);\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 4,\n    style: {\n      marginTop: \"3%\",\n      marginLeft: \"8%\"\n    },\n    className: classes.fullScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    className: classes.title,\n    style: {\n      marginLeft: \"8%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, \"Member List\"), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Paper, {\n    style: {\n      maxHeight: 550,\n      overflow: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 12\n    }\n  }, items.map((item, index) => /*#__PURE__*/React.createElement(ListItem, {\n    key: index,\n    item: item,\n    className: classes.centered,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItemText, {\n    classes: {\n      primary: classes.textMem\n    },\n    primary: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 12\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    style: {\n      marginTop: \"5%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"outlined\",\n    color: \"secondary\",\n    bordercolor: \"white\",\n    onClick: routeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }, \"Go Back\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xl: 9,\n    className: classes.fullScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    className: classes.title,\n    style: {\n      marginLeft: \"35%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, \"Grocery List\"), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Paper, {\n    style: {\n      maxHeight: 550,\n      overflow: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, gItems.map((item, index) => /*#__PURE__*/React.createElement(ListItem, {\n    key: index,\n    item: item,\n    className: classes.centered,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    style: {\n      overflow: \"hidden\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(ListItemText, {\n    classes: {\n      primary: classes.text\n    },\n    primary: item.name,\n    secondary: item.message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListItemText, {\n    classes: {\n      primary: classes.textReq\n    },\n    style: {\n      marginTop: '6%'\n    },\n    primary: \"Requested by: \" + item.requester,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"cancel\",\n    style: {\n      width: '70%',\n      height: '70%',\n      marginTop: '3%'\n    },\n    onClick: () => deleteGrocery(item._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CancelIcon, {\n    style: {\n      width: '70%',\n      height: '70%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  })))))))), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleClickOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }\n  }, \"Add grocery\"), /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }, \"Add a Grocery\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  }, \"Put the grocery name and a message if you want!\"), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"name\",\n    label: \"Grocery Name\",\n    type: \"typename\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"message\",\n    label: \"Message (optional)\",\n    type: \"typemessage\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleCloseAdd,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, \"Add\"))))));\n}\n\nexport default RoomLobby;","map":{"version":3,"sources":["/Users/abel-chen/Desktop/grocery-app/frontend/src/Pages/RoomLobby.js"],"names":["React","useState","useEffect","makeStyles","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Typography","Paper","Grid","Button","List","ListItem","ListItemText","Divider","IconButton","CancelIcon","BrowserRouter","Switch","Redirect","useHistory","useLocation","History","Link","axios","currentRoom","memberList","groceryList","user","addGrocery","newGrocery","post","name","document","getElementById","value","roomCode","message","requester","then","response","console","log","catch","error","deleteGrocery","idvalue","idV","oldGrocery","id","useStyles","theme","root","width","minWidth","maxWidth","borderRadius","boxShadow","backgroundColor","palette","background","paper","flexGrow","fullScreen","fill","textMem","color","fontFamily","fontSize","text","fontWeight","textReq","fontStyle","title","centered","display","flexDirection","justifyContent","RoomLobby","history","classes","location","state","number","items","setItems","gItems","setGItems","alert","setAlert","get","encodeURIComponent","data","members","length","i","push","open","setOpen","handleClickOpen","handleClose","handleCloseAdd","routeChange","path","marginTop","marginLeft","maxHeight","overflow","map","item","index","primary","height","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n//import './RoomLobby.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nimport { BrowserRouter as Switch, Redirect, useHistory, useLocation, History, Link } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nvar currentRoom;\nvar memberList;\nvar groceryList;\nvar user;\n\nasync function addGrocery() {\n  const newGrocery = await axios.post('https://grocerynode.herokuapp.com/groceries/addGrocery', {\n    name: document.getElementById('name').value,\n    roomCode: currentRoom,\n    message: document.getElementById('message').value,\n    requester: user,\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nasync function deleteGrocery(idvalue) {\n  var idV = idvalue;\n  const oldGrocery = await axios.post('https://grocerynode.herokuapp.com/groceries/deleteGrocery', {\n    id: idV,\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    minWidth: 300,\n    maxWidth: 800,\n    borderRadius: 5,\n    boxShadow: '0px 5px 5px 2px rgba(0, 0, 0, .3)',\n    backgroundColor: theme.palette.background.paper,\n    flexGrow: 1,\n  },\n  fullScreen: {\n    flexGrow: 1,\n  },\n  fill: {\n  \twidth: '100%',\n    flexGrow: 1,\n  },\n  textMem: {\n    color: '#222222',\n    fontFamily: 'Raleway',\n    fontSize: 20,\n  },\n  text: {\n    color: '#222222',\n    fontFamily: 'Raleway',\n    fontWeight: 'bold',\n    fontSize: 30,\n  },\n  textReq: {\n    color: '#222222',\n    fontFamily: 'Raleway',\n    fontStyle: 'italic',\n    fontSize: 20,\n  },\n  title: {\n  \tcolor: '#444444',\n  \tfontFamily: 'Raleway',\n    fontSize: 43,\n  },\n  centered: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n}));\n\nfunction RoomLobby() {\n  const history = useHistory();\n  const classes = useStyles();\n  const location = useLocation();\n  \n  // room and user data\n  user = location.state.user;\n  currentRoom = location.state.number;\n\n  // member list data \n  const [items, setItems] = useState([]);\n\n  // grocery list data \n  const [gItems, setGItems] = useState([]);\n\n  //re-render on add grocery\n  const [alert, setAlert] = useState(false);\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/rooms/getRoom' + '?room=' + encodeURIComponent(location.state.number), false)\n\t.then((response) => {\n\t    console.log(response.data);\n\t    memberList = response.data[0].members;\n\t    setItems(memberList);\n  \t})\n  \t.catch(function (error) {\n    \tconsole.log(error);\n  \t});\n\n  }, [location.state.number]);\n  useEffect(() => {\n  \tif(gItems.length && !alert) {\n      return;\n    }\n  \taxios.get('http://localhost:5000/groceries/getGroceries' + '?room=' + encodeURIComponent(location.state.number), false)\n\t.then((response) => {\n\t    groceryList = []\n\t    for(var i in response.data) {\n\t    \tgroceryList.push(response.data[i]);\n\t    }\n\t    setGItems(groceryList);\n  \t})\n  \t.catch(function (error) {\n    \tconsole.log(error);\n  \t});\n\n  }, [alert, gItems, location.state.number]);\n\n  // Add grocery\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCloseAdd = () => {\n    setOpen(false);\n    addGrocery();\n    setAlert(true);\n  };\n  \n  //back\n  const routeChange = () =>{ \n    let path = \"/\"; \n    history.push(path);\n  }\n\n  return (\n   <Grid container spacing={4} style={{ marginTop: \"3%\", marginLeft: \"8%\"}} className={classes.fullScreen}>\n    <Grid item xl={3} >\n  \t<div className={classes.root}>\n            <Typography variant=\"h3\" className={classes.title} style={{ marginLeft: \"8%\" }}>Member List</Typography>\n            <Divider />\n            <Paper style={{maxHeight: 550, overflow: 'auto'}}>\n          \t<List>\n        \t\t{items.map((item, index) => (\n          \t\t<ListItem key={index} item={item} className={classes.centered}>\n        \t\t\t<ListItemText classes={{primary:classes.textMem}} primary= {item} />\n          \t\t</ListItem>\n      \t\t\t))}\n      \t\t</List>\n      \t\t</Paper>\n    </div>\n    <div className={classes.root} style={{ marginTop: \"5%\"}}>\n      <Button fullWidth={true} variant=\"outlined\" color=\"secondary\" bordercolor=\"white\" onClick={routeChange}>Go Back</Button>\n    </div>\n    </Grid>\n\n    <Grid item xl={9} className={classes.fullScreen}>\n    <div className={classes.root}>\n        <Typography variant=\"h3\" className={classes.title} style={{ marginLeft: \"35%\" }}>Grocery List</Typography>\n        <Divider />\n        <Paper style={{maxHeight: 550, overflow: 'auto'}}>\n        <List>\n        \t{gItems.map((item, index) => (\n          \t<ListItem key={index} item={item} className={classes.centered}>\n          \t    <Grid container spacing={3} >\n    \t\t\t<Grid item xs={6} style={{ overflow: \"hidden\"}} >\n        \t\t\t<ListItemText classes={{primary:classes.text}} primary= {item.name} secondary= {item.message}/>\n        \t\t</Grid>\n        \t\t<Grid item xs={4} >\n        \t\t    <ListItemText classes={{primary:classes.textReq}} style={{marginTop: '6%'}} primary= {\"Requested by: \" + item.requester} />\n        \t\t</Grid>\n        \t\t<Grid item xs={2} >\n        \t\t    <IconButton aria-label=\"cancel\" style={{width: '70%', height: '70%', marginTop: '3%'}} onClick={() => deleteGrocery(item._id)}>\n        \t\t\t\t<CancelIcon style={{width: '70%', height: '70%'}}/>\n     \t\t\t\t</IconButton>\n        \t\t</Grid>\n        \t\t</Grid>\n          \t</ListItem>\n      \t\t))}\n      \t</List>\n        </Paper>\n\n      <Button fullWidth={true} variant=\"contained\" color=\"primary\" onClick={handleClickOpen}>\n        Add grocery\n      </Button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add a Grocery</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Put the grocery name and a message if you want!\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Grocery Name\"\n            type=\"typename\"\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"message\"\n            label=\"Message (optional)\"\n            type=\"typemessage\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleCloseAdd} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n    </Grid>\n    </Grid>\n  )\n}\nexport default RoomLobby;"]},"metadata":{},"sourceType":"module"}