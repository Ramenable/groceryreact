{"ast":null,"code":"var _jsxFileName = \"/Users/abel-chen/Desktop/grocery-app/frontend/src/Pages/Signin.js\";\nimport React from 'react';\nimport './Signin.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport styled from 'styled-components';\nimport { withStyles } from '@material-ui/core/styles';\nimport { TextareaAutosize } from '@material-ui/core';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { BrowserRouter as Router, Route, Switch, Redirect, useHistory, History, Link } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport axios from \"axios\";\nvar roomExists;\nvar num;\n\nasync function createUserRoom() {\n  num = document.getElementById('roomCodeVal').value;\n  var array = [document.getElementById('userNameVal').value];\n  const newRoom = await axios.post('http://localhost:5000/rooms/addRoom', {\n    roomCode: document.getElementById('roomCodeVal').value,\n    members: array,\n    numMembers: 1\n  }).then(function (response) {\n    console.log(response);\n    roomExists = false;\n  }).catch(function (error) {\n    console.log(error);\n    roomExists = true;\n  }); //no need to make an invalid user\n\n  if (roomExists === true) {\n    return;\n  }\n\n  const newUser = await axios.post('http://localhost:5000/users/makeUser', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value\n  }).then(function (response) {\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nasync function updateUserRoom() {\n  num = document.getElementById('roomCodeVal').value;\n  const updatedRoom = await axios.post('http://localhost:5000/rooms/updateRoom', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value\n  }).then(function (response) {\n    console.log(response);\n    roomExists = true;\n  }).catch(function (error) {\n    console.log(error);\n    roomExists = false;\n  });\n\n  if (roomExists === false) {\n    return;\n  }\n\n  const newUser = await axios.post('http://localhost:5000/users/makeUser', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value\n  }).then(function (response) {\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nconst StyledTextField = styled(TextField)`\n  label.focused {\n    color: #ffffff;\n  }\n  .MuiOutlinedInput-root {\n    fieldset {\n      border-color: #83A3BC;\n    }\n    &:hover fieldset {\n      border-color: #294662;\n    }\n    &.Mui-focused fieldset {\n      border-color: #294662;\n    }\n  }\n  textInputStyle: {\n    color: 'white',\n  }\n`;\nconst useStyles = makeStyles({\n  root: {\n    //background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n    border: 0,\n    borderRadius: 5,\n    boxShadow: '0 3px 5px 2px rgba(0, 0, 0, .3)',\n    color: 'white',\n    height: 500,\n    width: 400,\n    margin: 40,\n    padding: '0 30px'\n  },\n  centeredcard: {\n    marginLeft: 95,\n    marginRight: 95,\n    marginBottom: 20,\n    marginTop: 30\n  },\n  title: {\n    fontSize: 43,\n    fontFamily: 'Helvetica',\n    color: '#444444'\n  },\n  titlecontent: {\n    marginBottom: -20\n  },\n  textbox: {\n    padding: 10\n  }\n});\n\nfunction Signin() {\n  const history = useHistory();\n  const classes = useStyles(); //routing to new room\n\n  const routeChangeCreate = async () => {\n    const data = await createUserRoom();\n\n    if (roomExists === true) {\n      handleClick();\n    } else {\n      let path = \"/RoomLobby\";\n      history.push(path, num);\n    }\n  }; //routing to existing room\n\n\n  const routeChangeJoin = async () => {\n    const data = await updateUserRoom();\n\n    if (roomExists === false) {\n      handleClick1();\n    } else {\n      let path = \"/RoomLobby\" + \"/\" + num;\n      history.push(path, num);\n    }\n  }; //error message if room exists\n\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  }; //error message if room doesn't exist\n\n\n  const [open1, setOpen1] = React.useState(false);\n\n  const handleClick1 = () => {\n    setOpen1(true);\n  };\n\n  const handleClose1 = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen1(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.centeredcard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.titlecontent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }\n  }, \"Groceries\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.textbox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StyledTextField, {\n    id: \"userNameVal\",\n    label: \"Name\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.textbox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StyledTextField, {\n    id: \"roomCodeVal\",\n    label: \"Room Code\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    style: {\n      padding: \"5%\",\n      marginLeft: \"9%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    borderColor: \"white\",\n    onClick: routeChangeCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, \"Create Room\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    style: {\n      padding: \"5%\",\n      marginLeft: \"15%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    borderColor: \"white\",\n    onClick: routeChangeJoin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, \"Join Room\")))))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    open: open,\n    autoHideDuration: 6000,\n    onClose: handleClose,\n    message: \"The room already exists\",\n    action: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    open: open1,\n    autoHideDuration: 6000,\n    onClose: handleClose1,\n    message: \"The room doesn't exist\",\n    action: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: handleClose1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 5\n    }\n  }));\n}\n\nexport default Signin;","map":{"version":3,"sources":["/Users/abel-chen/Desktop/grocery-app/frontend/src/Pages/Signin.js"],"names":["React","makeStyles","TextField","CssBaseline","Typography","Container","Paper","Card","CardActions","CardContent","Grid","Button","styled","withStyles","TextareaAutosize","Snackbar","IconButton","CloseIcon","BrowserRouter","Router","Route","Switch","Redirect","useHistory","History","Link","createBrowserHistory","axios","roomExists","num","createUserRoom","document","getElementById","value","array","newRoom","post","roomCode","members","numMembers","then","response","console","log","catch","error","newUser","username","updateUserRoom","updatedRoom","StyledTextField","useStyles","root","border","borderRadius","boxShadow","color","height","width","margin","padding","centeredcard","marginLeft","marginRight","marginBottom","marginTop","title","fontSize","fontFamily","titlecontent","textbox","Signin","history","classes","routeChangeCreate","data","handleClick","path","push","routeChangeJoin","handleClick1","open","setOpen","useState","handleClose","event","reason","open1","setOpen1","handleClose1","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Signin.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport styled from 'styled-components';\nimport { withStyles } from '@material-ui/core/styles';\nimport { TextareaAutosize } from '@material-ui/core';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { BrowserRouter as Router, Route, Switch, Redirect, useHistory, History, Link } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport axios from \"axios\";\n\nvar roomExists;\nvar num;\n\nasync function createUserRoom() {\n  num = document.getElementById('roomCodeVal').value;\n  var array = [ document.getElementById('userNameVal').value]\n  const newRoom = await axios.post('http://localhost:5000/rooms/addRoom', {\n    roomCode: document.getElementById('roomCodeVal').value,\n    members: array,\n    numMembers: 1,\n  })\n  .then(function (response) {\n    console.log(response);\n    roomExists = false;\n  })\n  .catch(function (error) {\n    console.log(error);\n    roomExists = true;\n  });\n\n  //no need to make an invalid user\n  if (roomExists === true) {\n    return;\n  }\n\n  const newUser = await axios.post('http://localhost:5000/users/makeUser', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n\n}\n\nasync function updateUserRoom() {\n  num = document.getElementById('roomCodeVal').value;\n  const updatedRoom = await axios.post('http://localhost:5000/rooms/updateRoom', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value,\n  })\n  .then(function (response) {\n    console.log(response);\n    roomExists = true;\n  })\n  .catch(function (error) {\n    console.log(error);\n    roomExists = false;\n  });\n\n  if (roomExists === false) {\n    return;\n  }\n\n  const newUser = await axios.post('http://localhost:5000/users/makeUser', {\n    username: document.getElementById('userNameVal').value,\n    roomCode: document.getElementById('roomCodeVal').value\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n}\n\nconst StyledTextField = styled(TextField)`\n  label.focused {\n    color: #ffffff;\n  }\n  .MuiOutlinedInput-root {\n    fieldset {\n      border-color: #83A3BC;\n    }\n    &:hover fieldset {\n      border-color: #294662;\n    }\n    &.Mui-focused fieldset {\n      border-color: #294662;\n    }\n  }\n  textInputStyle: {\n    color: 'white',\n  }\n`;\n\nconst useStyles = makeStyles({\n  root: {\n    //background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n    border: 0,\n    borderRadius: 5,\n    boxShadow: '0 3px 5px 2px rgba(0, 0, 0, .3)',\n    color: 'white',\n    height: 500,\n    width: 400,\n    margin: 40,\n    padding: '0 30px'\n  },\n  centeredcard: {\n    marginLeft: 95,\n    marginRight: 95,\n    marginBottom: 20,\n    marginTop: 30\n  },\n  title: {\n    fontSize: 43,\n    fontFamily: 'Helvetica',\n    color: '#444444'\n  },\n  titlecontent: {\n    marginBottom: -20\n  },\n  textbox: {\n    padding: 10\n  },\n});\n\nfunction Signin() {\n  const history = useHistory();\n  const classes = useStyles();\n\n  //routing to new room\n  const routeChangeCreate = async () =>{ \n   const data = await createUserRoom();\n    if (roomExists === true) {\n      handleClick();\n    } else {\n      let path = \"/RoomLobby\"; \n      history.push(path, num);\n    }\n  }\n\n  //routing to existing room\n  const routeChangeJoin = async () =>{ \n    const data = await updateUserRoom();\n    if (roomExists === false) {\n      handleClick1();\n    } else {\n      let path = \"/RoomLobby\" + \"/\"+ num; \n      history.push(path, num);\n    }\n  }\n  \n  //error message if room exists\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  //error message if room doesn't exist\n  const [open1, setOpen1] = React.useState(false);\n\n  const handleClick1 = () => {\n    setOpen1(true);\n  };\n\n  const handleClose1 = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen1(false);\n  };\n\n  return (\n    <React.Fragment>\n    <Card className={classes.root} variant=\"outlined\">\n      <CardContent>\n        <Grid container spacing={3}>\n        <div className={classes.centeredcard}>\n          <Grid item xs={12} className={classes.titlecontent}>\n            <h1 className={classes.title}>\n              Groceries\n            </h1>\n          </Grid>\n          <Grid item xs={12} className={classes.textbox}>\n            <StyledTextField id=\"userNameVal\" label=\"Name\" variant=\"outlined\" />\n          </Grid>\n          <Grid item xs={12} className={classes.textbox}>\n            <StyledTextField id=\"roomCodeVal\" label=\"Room Code\" variant=\"outlined\" />\n          </Grid>\n          <Grid item xs={12} style={{padding: \"5%\", marginLeft: \"9%\"}} >\n            <Button variant=\"outlined\" borderColor=\"white\" onClick={routeChangeCreate}>Create Room</Button>\n          </Grid>\n          <Grid item xs={12} style={{padding: \"5%\", marginLeft: \"15%\"}} >\n            <Button variant=\"outlined\" borderColor=\"white\" onClick={routeChangeJoin}>Join Room</Button>\n          </Grid>\n        </div>\n        </Grid>\n      </CardContent>\n    </Card>\n\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      open={open}\n      autoHideDuration={6000}\n      onClose={handleClose}\n      message=\"The room already exists\"\n      action={\n        <React.Fragment>\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n      }\n    />\n\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      open={open1}\n      autoHideDuration={6000}\n      onClose={handleClose1}\n      message=\"The room doesn't exist\"\n      action={\n        <React.Fragment>\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose1}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n      }\n    />\n\n    </React.Fragment>\n  )\n}\nexport default Signin;"]},"metadata":{},"sourceType":"module"}